\documentclass{rapport}

\title{Rapport du miniprojet 1 de \textsc{Recherche Opérationnelle}}

\begin{document}

\maketitle

\section{Première partie - Un problème de production}

\subsection{1. Programme linéaire}

Pour modéliser le problème nous allons utiliser les notations suivantes :

$T$ est l'ensemble des instant du problèmes (les semaines de production). $T^*$ est $T$ privé de la semaine $0$. $\mathcal{R}$ est l'ensemble des références qu'il est possible de produire.

Ensuite, les données du problèmes seront : $\forall i \in T$ et $\forall r \in \mathcal{R}$, $s_{i,r}$ le stock de la référence $r$ en semaine $i$ et $x_{i,r}$ la quantité produite en semaine $i$ de la référence $r$. Enfin $d_{i,r}$ est la demande en référence $r$ la semaine $i$ et $c_r$ est le coût du stock de la référence $r$. $Q$ est la quantité maximale produite chaque semaine et $N$ est la quantité maximale de référence produite chaque semaine.
\ \\

On cherche à minimiser le coût total (production et stockage). On cherche donc à minimiser $$\sum_{i \in T^*} \sum_{r \in \mathcal{R}} c_r \times s_{i, r}$$ \\
\ \\
Nos contraintes sont les suivantes : \\
\begin{itemize}
\item \emph{Contraintes de positivité} : À chaque semaine et pour chaque référence, le stock doit être positif (ou nul).  De même, on s'interdit de détruire du stock : on doit donc avoir une production positive (ou nulle) pour chaque référence. On fixe donc $$\forall i \in T; \forall r \in \mathcal{R}; s_{i, r} \in \R^+$$ $$\forall i \in T; \forall r \in \mathcal{R}; x_{i, r} \in \R^+$$

\item À chaque nouvelle semaine, on actualise le stock de la nouvelle semaine avec le stock de la semaine précédente, la production et les références expédiées. On a donc $$\forall i \in T; \forall r \in \mathcal{R}; s_{i,r} = x_{i,r} + s_{i-1,r} - d_{i, r}$$
\item On souhaite satisfaire la demande chaque semaine. On souhaite donc que $\forall i \in T; \forall r \in \mathcal{R}; x_{i,r} + s_{i-1,r} \ge d_{i, r}$. Or, sachant que les stocks sont toujours positifs, cette contrainte est inclue dans la contrainte précédente : on n'a donc pas besoin de rajouter de contrainte supplémentaire dans le modèle.
\item D'autre part, on ne peut pas produire plus de $N$ références par semaine, ce qu'on peut traduire par : $$\forall i \in T^*; \sum_{r \in \mathcal{R}} \mathbf{1}_{x_{i, r} > 0} \le N$$.
\item Enfin, il faut satisfaire la capacité de production de l'usine : On ajoute donc la relation :
$$\forall i \in T^*; \sum_{r \in \mathcal{R}} x_{i, r} \le Q$$
\end{itemize}

Notre problème se modélise donc par programme linéaire suivant : \\
\ \\

\begin{equation*}
\begin{aligned}
& \min \ \ \  \sum_{i \in T^*} \sum_{r \in \mathcal{R}} c_r \times s_{i, r} \\
& \text{sous contraintes : } \\
\ \\
& \forall i \in T; \forall r \in \mathcal{R}; s_{i,r} = x_{i,r} + s_{i-1,r} - d_{i, r}\\
& \forall i \in T^*; \sum_{r \in \mathcal{R}} \mathbf{1}_{x_{i, r} > 0} \le N \\
& \forall i \in T^*; \sum_{r \in \mathcal{R}} x_{i, r} \le Q \\
& \forall i \in T; \forall r \in \mathcal{R}; s_{i, r} \in \R^+ \\
& \forall i \in T; \forall r \in \mathcal{R}; x_{i, r} \in \R^+
\end{aligned}
\end{equation*}
\ \\
\ \\
\emph{Détails d'implémentation} : \\
Pour traduire la condition avec l'indicatrice $\forall i \in T^*; \sum_{r \in \mathcal{R}} \mathbf{1}_{x_{i, r} > 0} \le N$, on introduit la matrice A, dont l'élément (i,r) vaut 1 si la référence r a été produite pendant la semaine i, et zéro sinon. \\
\ \\
On traduit donc la 2e contrainte par :
$$\forall i \in T^*, \sum_{r \in \mathcal{R}}a_{i,r} \le N $$


\subsection{2. Résolution avec GLPK}
On récupère les trois sets de données envoyés par mails, et on les place dans les fichiers \emph{Q1\_dataset\_1.dat}, \emph{Q1\_dataset\_2.dat} et \emph{Q1\_dataset\_3.dat}. \\
Le programme linéaire a été traduit dans GLPK dans le fichier \emph{production.mod}.
\ \\
\subsubsection{Première instance}
Le programme ne trouve pas de solution réalisable pour la première instance. \ \\
En prenant $N'=3$ (sachant que $N=2$) et $Q'=Q$, on trouve une solution réalisable, de coût 226. $Q+N$ minore la solution optimale mais n'est pas réalisable, $Q'+N'=Q+N+1$. Cette instance étant réalisable et s'agissant un problème linéaire en nombres entiers, c'est la solution optimale. \\




\begin{lstlisting}
test
\end{lstlisting}

\end{document}
